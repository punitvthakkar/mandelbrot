<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mandelbrot Explorer</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Ambient background layer -->
    <div class="ambient-layer"></div>
    <canvas id="glCanvas"></canvas>
    <div class="canvas-vignette"></div>

    <div class="ui-overlay">
        <!-- Collapsible control drawer -->
        <div class="control-drawer" id="controlDrawer">
            <button class="drawer-toggle" id="drawerToggle" aria-label="Toggle controls">
                <span class="toggle-icon">‚óÄ</span>
            </button>

            <div class="drawer-content">
                <div class="drawer-header">
                    <h1>Mandelbrot Explorer</h1>
                    <p class="subtitle">Journey into infinite complexity</p>
                </div>

                <div class="control-group">
                    <label>Explore Locations</label>
                    <select id="locationSelect" class="location-select">
                        <option value="default">Home View ‚Äî The full set</option>
                        <option value="seahorse">Seahorse Valley ‚Äî Delicate tendrils</option>
                        <option value="elephant">Elephant Valley ‚Äî Bulbous spirals</option>
                        <option value="spiral">Triple Spiral ‚Äî Hypnotic vortex</option>
                        <option value="minibrot">Mini Mandelbrot ‚Äî Fractal echo</option>
                    </select>
                </div>

                <div class="control-group">
                    <label>Color Palette</label>
                    <div class="palette-selector">
                        <button class="palette-btn active" data-palette="0" aria-label="Ocean Depth">
                            <span class="palette-preview palette-0"></span>
                            <span class="palette-label">Ocean</span>
                        </button>
                        <button class="palette-btn" data-palette="1" aria-label="Magma">
                            <span class="palette-preview palette-1"></span>
                            <span class="palette-label">Magma</span>
                        </button>
                        <button class="palette-btn" data-palette="2" aria-label="Aurora">
                            <span class="palette-preview palette-2"></span>
                            <span class="palette-label">Aurora</span>
                        </button>
                        <button class="palette-btn" data-palette="3" title="Golden Hour">
                            <span class="palette-preview palette-3"></span>
                            <span class="palette-label">Amber</span>
                        </button>
                        <button class="palette-btn" data-palette="4" title="Fractal Extreme (Texture)">
                            <span class="palette-preview palette-4"></span>
                            <span class="palette-label">Extreme</span>
                        </button>
                    </div>
                    <div class="color-legend" id="colorLegend">
                        <span class="legend-label">Escape speed</span>
                        <div class="legend-gradient" id="legendGradient"></div>
                    </div>
                </div>

                <div class="control-group">
                    <label for="iterations">Detail Level: <span id="iterValue">500</span></label>
                    <input type="range" id="iterations" min="100" max="2000" value="500" step="50">
                    <small class="hint">Higher values reveal finer structures</small>
                </div>

                <div class="control-group">
                    <label>Zoom Controls</label>
                    <div class="zoom-controls">
                        <button id="zoomInBtn" class="action-btn secondary" title="Zoom in (or scroll)">
                            <span>+</span>
                        </button>
                        <button id="zoomOutBtn" class="action-btn secondary" title="Zoom out (or scroll)">
                            <span>‚àí</span>
                        </button>
                    </div>
                </div>

                <div class="action-buttons">
                    <button id="resetBtn" class="action-btn" title="Reset to home view">
                        <span class="btn-icon">‚Ü∫</span> Reset
                    </button>
                    <button id="autoTourBtn" class="action-btn secondary" title="Auto-tour interesting locations">
                        <span class="btn-icon">‚ñ∂</span> <span id="tourLabel">Tour</span>
                    </button>
                    <button id="screenshotBtn" class="action-btn secondary" title="Save current view as image">
                        <span class="btn-icon">üì∑</span> Save
                    </button>
                    <button id="fullscreenBtn" class="action-btn secondary" title="Toggle fullscreen (F)">
                        <span class="btn-icon">‚õ∂</span> <span id="fullscreenLabel">Full</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Location story panel -->
        <div class="location-story" id="locationStory">
            <h3 id="storyTitle">Home View</h3>
            <p id="storyDescription">The complete Mandelbrot set in its iconic form</p>
            <div class="story-meta">
                <span id="storyCoords">Center: -0.75, 0.00</span>
                <span id="storyZoom">Zoom: 1.0√ó</span>
            </div>
        </div>

        <!-- Floating status puck -->
        <div class="status-puck" id="statusPuck">
            <div class="puck-item">
                <span class="puck-label">X</span>
                <span id="coordX">-0.75000</span>
            </div>
            <div class="puck-divider"></div>
            <div class="puck-item">
                <span class="puck-label">Y</span>
                <span id="coordY">0.00000</span>
            </div>
            <div class="puck-divider"></div>
            <div class="puck-item">
                <span class="puck-label">Z</span>
                <span id="zoomLevel">1.0√ó</span>
            </div>
        </div>

        <!-- Contextual hint ribbon -->
        <div class="hint-ribbon" id="hintRibbon">
            <span class="hint-item"><kbd>Drag</kbd> to pan</span>
            <span class="hint-item"><kbd>Scroll</kbd> to zoom</span>
            <span class="hint-item"><kbd>Double-click</kbd> to focus</span>
            <span class="hint-item"><kbd>H</kbd> help</span>
            <span class="hint-item"><kbd>R</kbd> reset</span>
            <span class="hint-item"><kbd>F</kbd> fullscreen</span>
        </div>

        <!-- Onboarding tooltip -->
        <div class="onboarding-tooltip" id="onboardingTooltip">
            <button class="tooltip-close" id="tooltipClose" aria-label="Close">√ó</button>
            <div class="tooltip-content" id="tooltipContent">
                <h4 id="tooltipTitle">Welcome!</h4>
                <p id="tooltipText">Drag to explore, scroll to zoom into infinite detail.</p>
            </div>
            <div class="tooltip-nav">
                <button class="tooltip-btn" id="tooltipPrev">‚Üê</button>
                <span class="tooltip-dots" id="tooltipDots"></span>
                <button class="tooltip-btn" id="tooltipNext">‚Üí</button>
            </div>
        </div>

        <!-- Zoom focus ring -->
        <div class="zoom-focus-ring" id="zoomFocusRing"></div>
    </div>

    <script src="script.js"></script>
</body>

</html>